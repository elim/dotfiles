# -*- mode: shell-script; coding: utf-8-unix -*-

alias -g A='| ack'
alias -g G='| grep'
alias -g H='| head'
alias -g L='| less'
alias -g S='| sed'
alias -g T='| tail'
alias -g W='| wc'

() {
  local a

  for a in ${_z_user_dir}/config/alias.d/*; do
    source ${a}
  done
}

alias dpkg='COLUMNS=${COLUMNS:-80} dpkg'

# shell
case ${uname} in
  CYGWIN*)
    alias cmd='CMD'
    alias start='cygstart'
    ;;
esac

case ${uname} in
  CYGWIN*)
    alias open='cygstart'
    alias start='cygstart'
    ;;
esac

# grep
alias grep='grep --color=always'

function git-root() {
  dir=$(git rev-parse --show-toplevel)
  if [ "${dir}" != "" ]; then
    cd "${dir}"
  fi
}

# diff
if type colordiff &> /dev/null; then
  alias diff=colordiff
fi

# Vim
if type vim &> /dev/null; then
  alias vi=vim
  export EDITOR=vim
  export ALTERNATE_EDITOR=vim
fi

# emacsen
path=(/Applications/Emacs.app/Contents/MacOS(N-/)      ${path})
path=(/Applications/Emacs.app/Contents/MacOS/bin(N-/)  ${path})
path=(~/Applications/Emacs.app/Contents/MacOS(N-/)     ${path})
path=(~/Applications/Emacs.app/Contents/MacOS/bin(N-/) ${path})

if type Emacs &> /dev/null; then
    alias emacs_bin=Emacs
else
    alias emacs_bin=emacs
fi

alias emacs='XMODIFIERS="@im=none" emacs_bin'

if type emacsclient &> /dev/null; then
    alias e="emacsclient -n"
    export EDITOR="emacsclient -n"
    export GIT_EDITOR=emacsclient
else
    export EDITOR=vi
fi

# Docker
alias d='docker'
alias dc='docker-compose'

# bundler
alias b='bundle'
alias be='bundle exec'

# Pager
alias l=${PAGER}

# vagrant
alias v=vagrant
