# -*- mode: shell-script; coding: utf-8-unix -*-

alias -g A='| ack'
alias -g G='| grep'
alias -g H='| head'
alias -g L='| lv'
alias -g S='| sed'
alias -g T='| tail'
alias -g W='| wc'

alias dpkg='COLUMNS=${COLUMNS:-80} dpkg'

# shell
case ${uname} in
  CYGWIN*)
    alias cmd='CMD'
    alias start='cygstart'
    ;;
esac

# ls
alias ll='ls -alFH'
alias la='ls -aFH'

case ${uname} in
  FreeBSD|Darwin)
    alias ls='ls -wGF'
    ;;
  Linux)
    alias ls='ls -F --color=auto'
    ;;
  CYGWIN*)
    alias ls='ls -F --color=auto --show-control-chars'
    ;;
esac
alias \\ls=ls

case ${uname} in
  CYGWIN*)
    alias open='cygstart'
    alias start='cygstart'
    ;;
esac

# lv
export LV='-Ou8 -c'

# grep
alias grep='grep --color=always'

# git
type hub &> /dev/null && alias git=hub
alias g=git
alias gco='g co'
alias gdi='g di'
alias gpl='g pull'
alias gps='g push'
alias gl='g log --stat'
alias glp='gl -p'

# diff
if type colordiff &> /dev/null; then
  alias diff=colordiff
fi

# Vim
if type vim &> /dev/null; then
  alias vi=vim
  export EDITOR=vim
  export ALTERNATE_EDITOR=vim
fi

# emacsen
case ${uname} in
  Darwin)
    carbon=/Applications/Emacs.app/Contents/MacOS/Emacs
    carbonclient=/Applications/Emacs.app/Contents/MacOS/bin/emacsclient
    if [ -x ${carbon} ]; then
      alias emacs="${carbon}"
      alias emacsclient="${carbonclient}"
      alias e="${carbonclient} -n"
      export EDITOR="${carbonclient} -n"
      export GIT_EDITOR="${carbonclient}"
    fi
    ;;
  *)
    if type emacsclient &> /dev/null; then
      alias emacs='XMODIFIERS="@im=none" emacs'
      alias e="emacs -n"
      export EDITOR="emacsclient -n"
      export GIT_EDITOR="emacsclient"
    fi
    ;;
esac

if ! type e &> /dev/null; then
  export EDITOR=vi
fi

# bundler
alias b='bundle'
alias be='bundle exec'
